(function(e){function t(t){for(var n,i,l=t[0],r=t[1],d=t[2],u=0,m=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);c&&c(t);while(m.length)m.shift()();return a.push.apply(a,d||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,l=1;l<o.length;l++){var r=o[l];0!==s[r]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},s={app:0},a=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var c=r;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("cd49")},"21d8":function(e,t,o){"use strict";o("7bd6")},"37df":function(e,t,o){"use strict";o("f0d8")},"7bd6":function(e,t,o){},a589:function(e,t,o){},af10:function(e,t,o){},c61a:function(e,t,o){"use strict";o("af10")},cd49:function(e,t,o){"use strict";o.r(t);o("f9e3"),o("a589"),o("aaff");var n,s=o("2b0e"),a=o("5ea9"),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("nav",{staticClass:"navbar navbar-expand-lg navbar-dark"},[o("div",{staticClass:"container"},[o("router-link",{staticClass:"navbar-brand",attrs:{to:"/",exact:""}},[o("span",{staticClass:"align-middle"},[e._v("Backend")])])],1)]),o("div",{staticClass:"container mt-4",attrs:{id:"content"}},[o("router-view")],1)])},l=[],r=o("9ab4"),d=o("1b40"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(t,e),t=Object(r["a"])([d["a"]],t),t}(s["default"]),u=c,m=u,p=o("2877"),y=Object(p["a"])(m,i,l,!1,null,null,null),f=y.exports,v=o("bb64"),h=o.n(v),b=o("8c4f"),g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row justify-content-between"},[o("div",{staticClass:"col col-1"},[o("Icon",{staticClass:"svg-9x text-green",attrs:{icon:"mdi:home"}})],1),o("div",{},[o("HelloApi",{attrs:{name:e.name}})],1),o("div",{staticClass:"col-md-auto"})])},_=[],E=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"small-container",attrs:{id:"app"}},[o("h1",[e._v("Employee Details")]),o("employee-form",{on:{"add:employee":e.addEmployee}}),o("employee-details",{attrs:{employees:e.employees},on:{"edit:employee":e.editEmployee,"delete:employee":e.deleteEmployee}})],1)},w=[],x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{width:"50%"},attrs:{id:"employee-form"}},[o("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[o("label",[e._v("Employee Name")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.name,expression:"employee.name"}],ref:"first",class:{"has-error":e.submitting&&e.isNameValid},attrs:{type:"text"},domProps:{value:e.employee.name},on:{focus:e.clearStatus,keypress:e.clearStatus,input:function(t){t.target.composing||e.$set(e.employee,"name",t.target.value)}}}),o("label",[e._v("Employee Designation")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.designation,expression:"employee.designation"}],attrs:{type:"text"},domProps:{value:e.employee.designation},on:{focus:e.clearStatus,input:function(t){t.target.composing||e.$set(e.employee,"designation",t.target.value)}}}),o("label",[e._v("Employee Mobile")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.mobile,expression:"employee.mobile"}],attrs:{type:"text"},domProps:{value:e.employee.mobile},on:{focus:e.clearStatus,input:function(t){t.target.composing||e.$set(e.employee,"mobile",t.target.value)}}}),o("label",[e._v("Employee Address")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.address,expression:"employee.address"}],attrs:{type:"text"},domProps:{value:e.employee.address},on:{focus:e.clearStatus,input:function(t){t.target.composing||e.$set(e.employee,"address",t.target.value)}}}),e.error&&e.submitting?o("p",{staticClass:"error-message"},[e._v(" ❗Please fill out all required fields and valid email address ")]):e._e(),e.success?o("p",{staticClass:"success-message"},[e._v(" ✅ Employee successfully added ")]):e._e(),o("button",[e._v("Add Employee")])])])},j=[],O={name:"employee-form",data(){return{submitting:!1,error:!1,success:!1,employee:{name:"",mobile:"",address:"",designation:""}}},methods:{handleSubmit(){this.submitting=!0,this.clearStatus(),this.isNameValid||this.isEmailValid?this.error=!0:(this.$emit("add:employee",this.employee),this.$refs.first.focus(),this.employee={name:"",mobile:"",address:"",designation:""},this.error=!1,this.success=!0,this.submitting=!1)},clearStatus(){this.success=!1,this.error=!1}},computed:{isNameValid(){return""===this.employee.name}}},S=O,C=(o("37df"),Object(p["a"])(S,x,j,!1,null,"77f9d86f",null)),P=C.exports,$=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"employee-details"}},[e.employees.length<1?o("p",[e._v(" No employees ")]):o("table",{attrs:{width:"100%"}},[e._m(0),o("tbody",e._l(e.employees,(function(t){return o("tr",{key:t.id},[e.editing===t.id?o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"employee.name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(o){o.target.composing||e.$set(t,"name",o.target.value)}}})]):o("td",[e._v(e._s(t.name))]),e.editing===t.id?o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.designation,expression:"employee.designation"}],attrs:{type:"text"},domProps:{value:t.designation},on:{input:function(o){o.target.composing||e.$set(t,"designation",o.target.value)}}})]):o("td",[e._v(e._s(t.designation))]),e.editing===t.id?o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"employee.mobile"}],attrs:{type:"text"},domProps:{value:t.mobile},on:{input:function(o){o.target.composing||e.$set(t,"mobile",o.target.value)}}})]):o("td",[e._v(e._s(t.mobile))]),e.editing===t.id?o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"employee.address"}],attrs:{type:"text"},domProps:{value:t.address},on:{input:function(o){o.target.composing||e.$set(t,"address",o.target.value)}}})]):o("td",[e._v(e._s(t.address))]),e.editing===t.id?o("td",[o("button",{on:{click:function(o){return e.editEmployee(t)}}},[e._v("Save")]),o("button",{staticClass:"muted-button",on:{click:function(o){return e.cancelEdit(t)}}},[e._v("Cancel")])]):o("td",[o("button",{on:{click:function(o){return e.editMode(t)}}},[e._v("Edit")]),o("button",{staticClass:"delete-button",on:{click:function(o){return e.$emit("delete:employee",t.id)}}},[e._v("Delete")])])])})),0)])])},N=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("thead",[o("tr",[o("th",[e._v("Name")]),o("th",[e._v("Designation")]),o("th",[e._v("Mobile")]),o("th",[e._v("Address")]),o("th",[e._v("Actions")])])])}],k={name:"employee-details",props:{employees:Array},data(){return{editing:null}},methods:{editMode(e){this.cachedEmployee=Object.assign({},e),this.editing=e.id},cancelEdit(e){Object.assign(e,this.cachedEmployee),this.editing=null},editEmployee(e){""!==e.name&&""!==e.email&&(this.$emit("edit:employee",e.id,e),this.editing=null)}}},A=k,T=(o("c61a"),Object(p["a"])(A,$,N,!1,null,"6849cc1e",null)),M=T.exports,D={name:"HelloApi",components:{EmployeeDetails:M,EmployeeForm:P},data(){return{employees:[]}},methods:{async addEmployee(e){try{await fetch("https://localhost:5001/employees",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});this.getEmployees()}catch(t){console.error("Error occured while adding employee: "+t)}},async getEmployees(){try{console.log("Test");const e=await fetch("https://localhost:5001/employees.json",{mode:"no-cors"}),t=await e.json();this.employees=t.employees,console.log(t.employees)}catch(e){}},async editEmployee(e,t){try{const o=await fetch("https://localhost:5001/employees/"+e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}),n=await o.json();this.employees=this.employees.map(t=>t.id===e?n:t)}catch(o){console.error("Error while editing: ",+o)}},async deleteEmployee(e){try{await fetch("https://localhost:5001/employees/"+e,{method:"DELETE"}),this.employees=this.employees.filter(t=>t.id!==e)}catch(t){console.error("Error while deleting: ",+t)}}},mounted(){this.getEmployees()}},H=D,V=(o("21d8"),Object(p["a"])(H,E,w,!1,null,null,null)),J=V.exports,F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["b"])(t,e),Object(r["a"])([Object(d["b"])({default:""}),Object(r["c"])("design:type",String)],t.prototype,"name",void 0),t=Object(r["a"])([Object(d["a"])({components:{HelloApi:J}})],t),t}(d["c"]),U=F,I=U,q=Object(p["a"])(I,g,_,!1,null,null,null),B=q.exports;(function(e){e["Home"]="/"})(n||(n={})),s["default"].use(b["a"]);var L=[{path:n.Home,component:B,props:{name:"Vue"}},{path:"*",redirect:"/"}],z=new b["a"]({mode:"history",linkActiveClass:"active",routes:L});s["default"].use(h.a),s["default"].component("Icon",a["a"]),s["default"].config.productionTip=!1;new s["default"]({el:"#app",render:function(e){return e(f)},router:z})},f0d8:function(e,t,o){}});
//# sourceMappingURL=app.d171accb.js.map